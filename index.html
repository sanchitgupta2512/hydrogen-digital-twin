<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Hydrogen Digital Twin - Virtual Commissioning Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <h1>üî¨ Virtual Commissioning Digital Twin</h1>
                <p>Green Hydrogen Plant - Decision Validation Platform</p>
            </div>
            <div class="status-indicator">
                <span class="status-dot"></span>
                <span>Live Simulation Active</span>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Control Panel Sidebar -->
        <aside class="control-panel">
            <h2>Control Panel</h2>
            
            <div class="control-section">
                <h3>‚ö° Power Input</h3>
                <div class="control-group">
                    <label for="solarPower">Solar Power (MW)</label>
                    <input type="range" id="solarPower" min="0" max="100" value="60" step="1">
                    <span class="value-display" id="solarPowerValue">60 MW</span>
                </div>
                <div class="control-group">
                    <label for="windPower">Wind Power (MW)</label>
                    <input type="range" id="windPower" min="0" max="80" value="40" step="1">
                    <span class="value-display" id="windPowerValue">40 MW</span>
                </div>
                <div class="control-group">
                    <label for="gridPower">Grid Backup (MW)</label>
                    <input type="range" id="gridPower" min="0" max="50" value="0" step="1">
                    <span class="value-display" id="gridPowerValue">0 MW</span>
                </div>
            </div>

            <div class="control-section">
                <h3>‚öôÔ∏è Operating Mode</h3>
                <div class="control-group">
                    <label for="operatingMode">Mode Selection</label>
                    <select id="operatingMode">
                        <option value="optimal">Optimal Efficiency</option>
                        <option value="maxProduction">Max Production</option>
                        <option value="minCarbon">Min Carbon</option>
                        <option value="flexible">Flexible Load</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="electrolyzerLoad">Electrolyzer Load (%)</label>
                    <input type="range" id="electrolyzerLoad" min="20" max="100" value="80" step="5">
                    <span class="value-display" id="electrolyzerLoadValue">80%</span>
                </div>
            </div>

            <div class="control-section">
                <h3>üíß Water System</h3>
                <div class="control-group">
                    <label for="waterQuality">Water Purity (ŒºS/cm)</label>
                    <input type="range" id="waterQuality" min="0.1" max="10" value="0.5" step="0.1">
                    <span class="value-display" id="waterQualityValue">0.5 ŒºS/cm</span>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="runScenario()">‚ñ∂ Run Scenario</button>
                <button class="btn btn-secondary" onclick="resetSimulation()">‚ü≤ Reset</button>
                <button class="btn btn-warning" onclick="emergencyStop()">‚ö† Emergency Stop</button>
            </div>

            <div class="info-box">
                <p><strong>Simulation Time:</strong> <span id="simTime">00:00:00</span></p>
                <p><strong>Total Runtime:</strong> <span id="totalRuntime">0.0 hrs</span></p>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Process Flow Diagram -->
            <section class="process-flow">
                <h2>Process Flow & Real-Time Status</h2>
                <div class="flow-diagram">
                    <!-- Renewable Power Sources -->
                    <div class="flow-item" id="renewables">
                        <div class="flow-icon">‚òÄÔ∏èüå¨Ô∏è</div>
                        <div class="flow-label">Renewable Power</div>
                        <div class="flow-value" id="totalRenewable">100 MW</div>
                    </div>

                    <div class="flow-arrow">‚Üí</div>

                    <!-- Power Conditioning -->
                    <div class="flow-item" id="powerConditioning">
                        <div class="flow-icon">‚ö°</div>
                        <div class="flow-label">Power Conditioning</div>
                        <div class="flow-value" id="conditionedPower">98 MW</div>
                        <div class="flow-status">98% Efficiency</div>
                    </div>

                    <div class="flow-arrow">‚Üí</div>

                    <!-- Electrolyzer -->
                    <div class="flow-item flow-item-highlight" id="electrolyzer">
                        <div class="flow-icon">‚öóÔ∏è</div>
                        <div class="flow-label">Electrolyzer</div>
                        <div class="flow-value" id="h2Production">1,680 kg/hr</div>
                        <div class="flow-status" id="electrolyzerStatus">Operating Normal</div>
                    </div>

                    <div class="flow-arrow">‚Üí</div>

                    <!-- Gas Processing -->
                    <div class="flow-item" id="gasProcessing">
                        <div class="flow-icon">üî¨</div>
                        <div class="flow-label">Separation & Drying</div>
                        <div class="flow-value" id="h2Purity">99.95%</div>
                        <div class="flow-status">H‚ÇÇ Purity OK</div>
                    </div>

                    <div class="flow-arrow">‚Üí</div>

                    <!-- Compression -->
                    <div class="flow-item" id="compression">
                        <div class="flow-icon">üîß</div>
                        <div class="flow-label">Compression</div>
                        <div class="flow-value" id="compressionPressure">350 bar</div>
                        <div class="flow-status">Stage 3 Active</div>
                    </div>

                    <div class="flow-arrow">‚Üí</div>

                    <!-- Storage -->
                    <div class="flow-item" id="storage">
                        <div class="flow-icon">üóÑÔ∏è</div>
                        <div class="flow-label">High-P Storage</div>
                        <div class="flow-value" id="storageLevel">65%</div>
                        <div class="flow-status" id="storageStatus">2,100 kg</div>
                    </div>
                </div>

                <!-- Water and Oxygen Flow -->
                <div class="secondary-flows">
                    <div class="water-flow">
                        <div class="flow-icon">üíß</div>
                        <div class="flow-label">DI Water Feed</div>
                        <div class="flow-value" id="waterFlow">15,120 L/hr</div>
                    </div>
                    <div class="oxygen-flow">
                        <div class="flow-icon">üí®</div>
                        <div class="flow-label">O‚ÇÇ By-product</div>
                        <div class="flow-value" id="o2Production">13,440 kg/hr</div>
                    </div>
                </div>
            </section>

            <!-- Sensor Dashboard -->
            <section class="sensor-grid">
                <div class="sensor-card">
                    <h3>Stack Temperature</h3>
                    <div class="sensor-reading">
                        <span class="sensor-value" id="stackTemp">72.5</span>
                        <span class="sensor-unit">¬∞C</span>
                    </div>
                    <div class="sensor-range">Range: 60-85¬∞C</div>
                    <div class="sensor-status status-ok">‚óè Normal</div>
                </div>

                <div class="sensor-card">
                    <h3>Stack Pressure</h3>
                    <div class="sensor-reading">
                        <span class="sensor-value" id="stackPressure">28.5</span>
                        <span class="sensor-unit">bar</span>
                    </div>
                    <div class="sensor-range">Range: 15-35 bar</div>
                    <div class="sensor-status status-ok">‚óè Normal</div>
                </div>

                <div class="sensor-card">
                    <h3>H‚ÇÇ Flow Rate</h3>
                    <div class="sensor-reading">
                        <span class="sensor-value" id="h2Flow">1680</span>
                        <span class="sensor-unit">kg/hr</span>
                    </div>
                    <div class="sensor-range">Max: 2100 kg/hr</div>
                    <div class="sensor-status status-ok">‚óè Normal</div>
                </div>

                <div class="sensor-card">
                    <h3>Energy Efficiency</h3>
                    <div class="sensor-reading">
                        <span class="sensor-value" id="efficiency">68.2</span>
                        <span class="sensor-unit">%</span>
                    </div>
                    <div class="sensor-range">Target: >65%</div>
                    <div class="sensor-status status-ok">‚óè Optimal</div>
                </div>

                <div class="sensor-card">
                    <h3>Specific Energy</h3>
                    <div class="sensor-reading">
                        <span class="sensor-value" id="specificEnergy">52.3</span>
                        <span class="sensor-unit">kWh/kg</span>
                    </div>
                    <div class="sensor-range">Target: <55 kWh/kg</div>
                    <div class="sensor-status status-ok">‚óè Efficient</div>
                </div>

                <div class="sensor-card">
                    <h3>Carbon Intensity</h3>
                    <div class="sensor-reading">
                        <span class="sensor-value" id="carbonIntensity">0.2</span>
                        <span class="sensor-unit">kgCO‚ÇÇ/kg</span>
                    </div>
                    <div class="sensor-range">Target: <0.5</div>
                    <div class="sensor-status status-ok">‚óè Green</div>
                </div>
            </section>

            <!-- Charts Section -->
            <section class="charts-section">
                <div class="chart-container">
                    <h3>Power Mix & H‚ÇÇ Production (24hr Forecast)</h3>
                    <canvas id="productionChart"></canvas>
                </div>

                <div class="chart-container">
                    <h3>System Performance Metrics</h3>
                    <canvas id="performanceChart"></canvas>
                </div>
            </section>

            <!-- KPI Dashboard -->
            <section class="kpi-section">
                <h2>Key Performance Indicators</h2>
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-label">Today's Production</div>
                        <div class="kpi-value" id="dailyProduction">38.2 tonnes</div>
                        <div class="kpi-change positive">+5.2% vs target</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Capacity Factor</div>
                        <div class="kpi-value" id="capacityFactor">82.5%</div>
                        <div class="kpi-change positive">+3.1% vs last week</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Operating Cost</div>
                        <div class="kpi-value" id="operatingCost">‚Çπ3.45/kg</div>
                        <div class="kpi-change positive">-8% vs baseline</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Equipment Health</div>
                        <div class="kpi-value" id="equipmentHealth">94%</div>
                        <div class="kpi-change neutral">No degradation</div>
                    </div>
                </div>
            </section>

            <!-- Alerts Section -->
            <section class="alerts-section">
                <h3>System Alerts & Notifications</h3>
                <div id="alertsContainer">
                    <div class="alert alert-info">
                        <span class="alert-time">14:23</span>
                        <span class="alert-message">System operating within optimal parameters</span>
                    </div>
                    <div class="alert alert-success">
                        <span class="alert-time">14:15</span>
                        <span class="alert-message">Renewable power availability increased to 140 MW</span>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Virtual Commissioning Platform | CHEM-AI-THON 2.0 | Real-time simulation running</p>
    </footer>

    <script src="simulation.js"></script>
</body>
</html>
